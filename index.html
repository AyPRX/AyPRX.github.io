<script>
  // Fonction pour mettre à jour le compte à rebours
  function updateCountdown() {
    // ... (le reste du code reste inchangé)
  }

  // Fonction pour ajouter des symboles de la matrice de manière aléatoire
  function addMatrixSymbols() {
    // ... (le reste du code reste inchangé)
  }

  // Fonction pour ajouter des images aléatoires
  function addMatrixPhotos() {
    // ... (le reste du code reste inchangé)
  }

  // Fonction pour afficher la vidéo à la fin du compte à rebours
  function showEndVideo() {
    var matrixSymbols = document.querySelectorAll(".matrix-symbol");
    var matrixPhotos = document.querySelectorAll(".matrix-photo");
    var audio = document.querySelector("audio");

    // Supprimer tous les symboles de la matrice
    matrixSymbols.forEach(function (symbol) {
      symbol.remove();
    });

    // Supprimer toutes les images
    matrixPhotos.forEach(function (photo) {
      photo.remove();
    });

    // Arrêter l'audio
    audio.pause();
    audio.currentTime = 0; // Remettre la piste audio au début

    // Afficher la vidéo
    var video = document.getElementById("end-video");
    video.style.display = "block";
    video.play(); // Démarrer la vidéo
  }

  // Fonction pour choisir aléatoirement un fichier audio
  function getRandomAudio() {
    var audioFiles = [
      "AyPRX.github.io/Music_1.mp3",
      "AyPRX.github.io/Music_1.mp3",
      // Ajoutez d'autres URL de fichiers audio selon vos besoins
    ];

    var randomIndex = Math.floor(Math.random() * audioFiles.length);
    return audioFiles[randomIndex];
  }

  // Appeler les fonctions après le chargement de la page
  window.onload = function () {
    addMatrixSymbols();
    setInterval(addMatrixPhotos, 5000); // Ajouter une image toutes les 5 secondes
    setInterval(updateCountdown, 1000);

    // Lancer l'audio aléatoire
    var audio = new Audio(getRandomAudio());
    audio.loop = true; // Pour le faire jouer en boucle
    audio.play();

    // Associer l'élément audio à la fonction showEndVideo lorsque la lecture est terminée
    audio.addEventListener("ended", showEndVideo);
  };
</script>
